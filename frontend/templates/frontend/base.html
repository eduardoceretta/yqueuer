<!DOCTYPE html>

<html>
  <head>
    <title>{% block title %}Yqueuer{% endblock %}</title>
    <script type="text/javascript">
      window.onerror = function (msg, m_url, lineNo, columnNo, error) {
        $.ajax({
          method: "POST",
          url: "/api/post_jserror/",
          headers: {'X-CSRFToken': '{{ csrf_token }}'},
          data: {
            'msg' : msg,
            'url' : m_url,
            'lineNo' : lineNo,
            'columnNo' : columnNo,
            'error' : error
          },
          success:  function(result){
            // console.log('post_jserror','success', result);
          },
          error: function(xhr,status,error){
            // console.log('post_jserror','success', xhr,status,error);
          }
        });

        return false;
      }
    </script>
  </head>

  <body>
    <div>
      <ul>
      {% if user.is_authenticated %}
        <li><a href="/player/">Player</a></li>
        <li><a href="/manage/">Manage</a></li>
        <li><a href="/logout/">Logout</a></li>
      {% else %}
        <li><a href="/register/">Register Here</a></li>
        <li><a href="/login/">Login</a></li>
      {% endif %}
      </ul>
    </div>

    <hr />

    <div>
      {% block body_block %}{% endblock %}
    </div>

  </body>
  <style type="text/css">
    .channel_thumbnail {
        height: 50px;
    }
  </style>
</html>